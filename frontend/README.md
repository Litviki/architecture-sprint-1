# Канонические работы web-факультета

Проекты создаются на базе тренажера без учета материала, подаваемого наставниками.

*Выбранные подходы могут показаться не оптимальными. Однако соответствуют решению текущей задачи.
Некоторые фрагменты кода содержат комментарии по улучшению и оптимизации. А также альтернативные варианты решения.*

Необходимые материалы:

- [Чек-лист по самопреверке](https://code.s3.yandex.net/web-developer/checklists/new-program/checklist-10/index.html)
- [Чек-лист для ревьюеров](https://www.notion.so/praktikum/10-079aaa69a0c5489d8192060e575a05eb)
- [Описание проектной работы](https://www.notion.so/praktikum/10-6-876bfd7855264d44bf97751abc955ce7)
- [Типичные ошибки студентов и ревьюеров](https://www.notion.so/praktikum/0d920db646a14f1abcf7a174e9a2835c)


Чек-лист для ревьюеров
Описание проектной работы
Типичные ошибки студентов и ревьюеров

### [Issues](https://gitlab.com/pcr-web/web_canonicals_ru/-/issues)

### Если есть что-то, что хотите запушить в проект:
* Pull-request are welcome. Делайте сайд-бранч формата `type/name`, f.e `bugfix/header`
* Пишите короткие, содержательные коммиты. Без атомарщины. Пользуйтесь [этим](https://www.conventionalcommits.org/ru/v1.0.0-beta.4/)

Задание 1

1 Этап:
    Масштаб приложения небольшой. Монолитная архитектура пока что хорошо справляется. Но если будет приниматься решение в сторону расширения, то могут понадобиться дополнительные разработчики. С расширением функционала увеличиться нагрузка. Для того чтобы разработчики не теряли темп разработки и приложение могло масштабироваться с минимальными рисками нужно разделить данное приложение на микрофронты.
2 Этап:
    В данном приложении я определил такие бизнес функции:
        Аутентификация, авторизация, регистрация.
        Профиль пользователя и карточки с фотографиями.
3 Этап:
    Так как нам нужно независимое обновление и масштабируемость отдельных модулей, и мы имеем готовый Backend, был выбран гибридный подход.
4 Этап:
    Инструментом для создания микрофронтедов был выбран Single SPA. Он прост в понимании, предоставляет независимую развертываемость и дает разработчикам свободный выбор фреймворков.
5 Этап:
    Для управления состоянием между микрофронтендами была выбрана библиотека глобального состояния. На первых этапах микрофронтендов только два, информация о пользователе тесно их связывает. В будущем, при появлении новых модулей, возможен переход на Pub/Sub.


Добавлено два проекта на React. Первый - авторизация и регистрация пользователя. При старте приложения открывается страница с логином. При успешном входе приложение редиректит на страницу профиля. Профиль - это второй микрофронтенд. Тут подгружаются карточки, доступно управление профилем и добавление карточек. В качестве хранилища для передачи данных между микрофронтендами используется local storage. В каждый проект добавлен файл с описанием хедера и футера. А так же у каждого из них свой набор стилей css. Микрофронтенд profile подгружается если в адресной строке есть */profile. Проект root - выступает в качестве проекта, который подгружает другие микрофронтенды.

Объявление и импорт микрофронтендов:
```
  <script type="systemjs-importmap">
    {
      "imports": {
        "react": "https://cdn.jsdelivr.net/npm/react@17.0.2/umd/react.production.min.js",
        "react-dom": "https://cdn.jsdelivr.net/npm/react-dom@17.0.2/umd/react-dom.production.min.js",
        "@yandex/root-config": "//localhost:9000/yandex-root-config.js",
        "@yandex/auth": "http://localhost:8080/yandex-auth.js",
        "@yandex/profile": "http://localhost:8081/yandex-profile.js"
      }
    }
  </script>
```

Подгрузка микрофронтендов:
```
<single-spa-router>
  <main>
    <route default>
      <application name="@yandex/auth"></application>
    </route>
    <route path="profile">
      <application name="@yandex/profile"></application>
    </route>
  </main>
</single-spa-router>
```
